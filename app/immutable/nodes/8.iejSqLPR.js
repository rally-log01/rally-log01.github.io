import{z as Ve,s as oe,n as Y,d as w,i as j,B as Te,Y as Ge,y as He,Z as je,L as _e,b as y,e as k,o as S,h as T,p as R,t as Q,l as x,m as g,H as z,q as H,f as F,v as $,r as $e,I as K,_ as ee,S as be,w as me,$ as ye,K as de,a0 as Ae,a1 as Be,G as Z,a2 as J}from"../chunks/OtXKyCBO.js";import{S as ce,i as ue,f as X,d as te,t as ae,a as ne,m as re,b as le,e as se}from"../chunks/Deut8iu_.js";import{P as Ue}from"../chunks/BSHi9MXr.js";import{e as W}from"../chunks/D_4t51R6.js";import{w as we,d as Fe}from"../chunks/BJA16qjd.js";import{s as ge,c as Ke,e as ze,b as Ee,d as Re}from"../chunks/UAvfk3Ig.js";import{g as Qe}from"../chunks/CBvwyhs7.js";import{g as We}from"../chunks/C-QPIhkw.js";import{D as Ye,o as Ze}from"../chunks/ChMTb6rQ.js";import{g as Je}from"../chunks/pK9b_fmc.js";const Xe=!0,Mt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Xe},Symbol.toStringTag,{value:"Module"})),Ce=we([]);let ve=!1;async function pe(){if(ve)return Ve(Ce);ve=!0;const a=`
    id,
    match_id,
    game_number,
    is_tie_break,
    created_at,
    matches(
      id,
			player1_id,
			player2_id,
			winner_id,
			tournament_id,
			round,
			location,
			date,
			created_at,
			player1:player1_id (
        id,
      	name
    	),
      player2:player2_id (
        id,
      	name
    	),
      tournaments (
        id,
      	name,
      	location
    	),
			winner:winner_id (
				id,
				name
			)
    )
	`,{data:e,error:n}=await ge.from("games").select(a).order("id",{ascending:!1});if(n)throw n;const t=e||[];return Ce.set(t),setTimeout(()=>ve=!1,800),t}async function xe(a){const{data:e,error:n}=await ge.from("games").insert([a]).select();if(n)throw n;return await pe(),e[0]}async function et(a,e){const{error:n}=await ge.from("games").update(e).eq("id",a);if(n)throw n;await pe();const l=Ve(Ce).find(s=>s.id===a);return l||void 0}async function tt(a){const{error:e}=await ge.from("games").delete().eq("id",a);if(e)throw e;await pe()}let ie=null;const at=()=>{const a=we([]),e=we(void 0),n=Fe([a,e],([o,f])=>{if(o?.length&&f)return o.find(b=>b.id===f)});return ie={stores:{data:a,currentGameId:e,currentGame:n},actions:{reload:async()=>{const o=await pe();a.set(o)},createGame:async o=>{try{await xe(o)}catch(f){console.error(f)}},updateGame:async(o,f)=>{try{await et(o,f)}catch(b){console.error(b)}},deleteGame:async o=>{try{await tt(o)}catch(f){console.error(f)}}}},ie},fe=()=>(ie||(ie=at()),ie);function Le(a,e,n){const t=a.slice();return t[13]=e[n],t}function nt(a){let e;return{c(){e=Q("No Data Found")},l(n){e=R(n,"No Data Found")},m(n,t){j(n,e,t)},p:Y,d(n){n&&w(e)}}}function rt(a){let e,n=W(a[0]),t=[];for(let l=0;l<n.length;l+=1)t[l]=qe(Le(a,n,l));return{c(){e=T("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=k(l,"UL",{class:!0});var s=S(e);for(let r=0;r<t.length;r+=1)t[r].l(s);s.forEach(w),this.h()},h(){y(e,"class","list-group")},m(l,s){j(l,e,s);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,s){if(s&3){n=W(l[0]);let r;for(r=0;r<n.length;r+=1){const o=Le(l,n,r);t[r]?t[r].p(o,s):(t[r]=qe(o),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){l&&w(e),_e(t,l)}}}function qe(a){let e,n,t,l,s=a[13]?.game_number+"",r,o,f,b=a[13]?.matches?.player1?.name+"",I,L,h,E="vs",M,q=a[13]?.matches?.player2?.name+"",C,d,p,D=a[13]?.matches?.tournaments?.name+"",N,P,i,u='<i class="bi bi-pencil-square"></i>',G,_,c;function v(){return a[6](a[13])}return{c(){e=T("li"),n=T("div"),t=T("div"),l=T("small"),r=Q(s),o=$(),f=T("div"),I=Q(b),L=$(),h=T("em"),h.textContent=E,M=$(),C=Q(q),d=$(),p=T("small"),N=Q(D),P=$(),i=T("button"),i.innerHTML=u,G=$(),this.h()},l(m){e=k(m,"LI",{class:!0});var O=S(e);n=k(O,"DIV",{class:!0});var B=S(n);t=k(B,"DIV",{});var A=S(t);l=k(A,"SMALL",{class:!0});var U=S(l);r=R(U,s),U.forEach(w),o=H(A),f=k(A,"DIV",{});var V=S(f);I=R(V,b),L=H(V),h=k(V,"EM",{"data-svelte-h":!0}),F(h)!=="svelte-1ytjshd"&&(h.textContent=E),M=H(V),C=R(V,q),V.forEach(w),d=H(A),p=k(A,"SMALL",{class:!0});var ke=S(p);N=R(ke,D),ke.forEach(w),A.forEach(w),P=H(B),i=k(B,"BUTTON",{class:!0,"data-svelte-h":!0}),F(i)!=="svelte-1498h9a"&&(i.innerHTML=u),B.forEach(w),G=H(O),O.forEach(w),this.h()},h(){y(l,"class","fw-lighter"),y(p,"class","fw-lighter"),y(i,"class","btn btn-link"),y(n,"class","d-flex justify-content-between align-items-start"),y(e,"class","list-group-item")},m(m,O){j(m,e,O),g(e,n),g(n,t),g(t,l),g(l,r),g(t,o),g(t,f),g(f,I),g(f,L),g(f,h),g(f,M),g(f,C),g(t,d),g(t,p),g(p,N),g(n,P),g(n,i),g(e,G),_||(c=z(i,"click",v),_=!0)},p(m,O){a=m,O&1&&s!==(s=a[13]?.game_number+"")&&x(r,s),O&1&&b!==(b=a[13]?.matches?.player1?.name+"")&&x(I,b),O&1&&q!==(q=a[13]?.matches?.player2?.name+"")&&x(C,q),O&1&&D!==(D=a[13]?.matches?.tournaments?.name+"")&&x(N,D)},d(m){m&&w(e),_=!1,c()}}}function lt(a){let e;function n(s,r){return s[0]?.length?rt:nt}let t=n(a),l=t(a);return{c(){l.c(),e=Te()},l(s){l.l(s),e=Te()},m(s,r){l.m(s,r),j(s,e,r)},p(s,[r]){t===(t=n(s))&&l?l.p(s,r):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},i:Y,o:Y,d(s){s&&w(e),l.d(s)}}}function st(a){return a?a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):""}function it(a,e,n){let t;const{stores:{data:l},actions:{reload:s}}=fe();let{query:r=""}=e,{player_id:o=0}=e,{tournament_id:f=0}=e,b=[],I=[];const L=l.subscribe(C=>{n(0,b=C),n(5,I=[...C])}),h=Ge(),E=C=>{h("gameClick",{value:C})},M=C=>{let d=[...b];return C&&(d=d.filter(p=>{const D=p?.matches;if(D){const N=D?.tournaments?.name?.trim().toLowerCase().match(t.trim().toLowerCase()),P=D?.player1?.name?.trim().toLowerCase().match(t.trim().toLowerCase()),i=D?.player2?.name?.trim().toLowerCase().match(t.trim().toLowerCase()),u=D?.winner?.name?.trim().toLowerCase().match(t.trim().toLowerCase());return N||P||i||u}return!1})),o&&(d=d.filter(p=>{const D=p?.matches;return D?D.player1_id===o||D.player2_id===o:!1})),f&&(d=d.filter(p=>{const D=p?.matches;return D?D.tournament_id===f:!1})),d};He(s),je(L);const q=C=>E(C);return a.$$set=C=>{"query"in C&&n(2,r=C.query),"player_id"in C&&n(3,o=C.player_id),"tournament_id"in C&&n(4,f=C.tournament_id)},a.$$.update=()=>{a.$$.dirty&4&&(t=st(r?.trim().toLowerCase())),a.$$.dirty&36&&(r?n(0,b=M(r)):n(0,b=[...I]))},[b,E,r,o,f,I,q]}class ot extends ce{constructor(e){super(),ue(this,e,it,lt,oe,{query:2,player_id:3,tournament_id:4})}}function Ie(a,e,n){const t=a.slice();return t[14]=e[n],t}function De(a,e,n){const t=a.slice();return t[17]=e[n],t}function Me(a){let e,n=a[17].name+"",t,l;return{c(){e=T("option"),t=Q(n),this.h()},l(s){e=k(s,"OPTION",{});var r=S(e);t=R(r,n),r.forEach(w),this.h()},h(){e.__value=l=a[17].id,K(e,e.__value)},m(s,r){j(s,e,r),g(e,t)},p(s,r){r&8&&n!==(n=s[17].name+"")&&x(t,n),r&8&&l!==(l=s[17].id)&&(e.__value=l,K(e,e.__value))},d(s){s&&w(e)}}}function Se(a){let e,n=a[14].name+"",t,l;return{c(){e=T("option"),t=Q(n),this.h()},l(s){e=k(s,"OPTION",{});var r=S(e);t=R(r,n),r.forEach(w),this.h()},h(){e.__value=l=a[14].id,K(e,e.__value)},m(s,r){j(s,e,r),g(e,t)},p(s,r){r&16&&n!==(n=s[14].name+"")&&x(t,n),r&16&&l!==(l=s[14].id)&&(e.__value=l,K(e,e.__value))},d(s){s&&w(e)}}}function ct(a){let e,n,t='<i class="bi bi-plus"></i>',l,s,r,o,f,b='<i class="bi bi-search"></i>',I,L,h,E,M="Tournament",q,C,d,p,D="Players",N,P,i=W(a[3]),u=[];for(let c=0;c<i.length;c+=1)u[c]=Me(De(a,i,c));let G=W(a[4]),_=[];for(let c=0;c<G.length;c+=1)_[c]=Se(Ie(a,G,c));return{c(){e=T("div"),n=T("button"),n.innerHTML=t,l=$(),s=T("div"),r=T("input"),o=$(),f=T("span"),f.innerHTML=b,I=$(),L=T("div"),h=T("select"),E=T("option"),E.textContent=M;for(let c=0;c<u.length;c+=1)u[c].c();q=$(),C=T("div"),d=T("select"),p=T("option"),p.textContent=D;for(let c=0;c<_.length;c+=1)_[c].c();this.h()},l(c){e=k(c,"DIV",{class:!0});var v=S(e);n=k(v,"BUTTON",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-1vene98"&&(n.innerHTML=t),l=H(v),s=k(v,"DIV",{class:!0});var m=S(s);r=k(m,"INPUT",{type:!0,class:!0,placeholder:!0,"aria-label":!0,"aria-describedby":!0}),o=H(m),f=k(m,"SPAN",{class:!0,id:!0,"data-svelte-h":!0}),F(f)!=="svelte-nl1ps3"&&(f.innerHTML=b),m.forEach(w),v.forEach(w),I=H(c),L=k(c,"DIV",{class:!0});var O=S(L);h=k(O,"SELECT",{class:!0,"aria-label":!0});var B=S(h);E=k(B,"OPTION",{"data-svelte-h":!0}),F(E)!=="svelte-dccae4"&&(E.textContent=M);for(let V=0;V<u.length;V+=1)u[V].l(B);B.forEach(w),O.forEach(w),q=H(c),C=k(c,"DIV",{class:!0});var A=S(C);d=k(A,"SELECT",{class:!0,"aria-label":!0});var U=S(d);p=k(U,"OPTION",{"data-svelte-h":!0}),F(p)!=="svelte-79ot39"&&(p.textContent=D);for(let V=0;V<_.length;V+=1)_[V].l(U);U.forEach(w),A.forEach(w),this.h()},h(){y(n,"class","btn btn-primary"),y(r,"type","text"),y(r,"class","form-control"),y(r,"placeholder","Search"),y(r,"aria-label","search"),y(r,"aria-describedby","search"),y(f,"class","input-group-text"),y(f,"id","search"),y(s,"class","input-group"),y(e,"class","d-flex justify-content-between gap-3"),E.selected=!0,E.__value=0,K(E,E.__value),y(h,"class","form-select"),y(h,"aria-label",""),a[2]===void 0&&be(()=>a[9].call(h)),y(L,"class","d-flex justify-content-between gap-3"),p.selected=!0,p.__value=0,K(p,p.__value),y(d,"class","form-select"),y(d,"aria-label",""),a[1]===void 0&&be(()=>a[10].call(d)),y(C,"class","d-flex justify-content-between gap-3")},m(c,v){j(c,e,v),g(e,n),g(e,l),g(e,s),g(s,r),K(r,a[0]),g(s,o),g(s,f),j(c,I,v),j(c,L,v),g(L,h),g(h,E);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(h,null);ee(h,a[2],!0),j(c,q,v),j(c,C,v),g(C,d),g(d,p);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(d,null);ee(d,a[1],!0),N||(P=[z(n,"click",a[5]),z(r,"input",a[8]),z(h,"change",a[9]),z(d,"change",a[10])],N=!0)},p(c,[v]){if(v&1&&r.value!==c[0]&&K(r,c[0]),v&8){i=W(c[3]);let m;for(m=0;m<i.length;m+=1){const O=De(c,i,m);u[m]?u[m].p(O,v):(u[m]=Me(O),u[m].c(),u[m].m(h,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=i.length}if(v&12&&ee(h,c[2]),v&16){G=W(c[4]);let m;for(m=0;m<G.length;m+=1){const O=Ie(c,G,m);_[m]?_[m].p(O,v):(_[m]=Se(O),_[m].c(),_[m].m(d,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=G.length}v&18&&ee(d,c[1])},i:Y,o:Y,d(c){c&&(w(e),w(I),w(L),w(q),w(C)),_e(u,c),_e(_,c),N=!1,$e(P)}}}function ut(a,e,n){let t,l,{query:s}=e,{player_id:r=0}=e,{tournament_id:o=0}=e;const f=Ge(),b=()=>{f("triggerCreate")},{stores:{data:I},actions:{reload:L}}=Qe();me(a,I,d=>n(3,t=d));const{stores:{data:h},actions:{reload:E}}=We();me(a,h,d=>n(4,l=d)),He(async()=>{await L(),await E()});function M(){s=this.value,n(0,s)}function q(){o=ye(this),n(2,o)}function C(){r=ye(this),n(1,r)}return a.$$set=d=>{"query"in d&&n(0,s=d.query),"player_id"in d&&n(1,r=d.player_id),"tournament_id"in d&&n(2,o=d.tournament_id)},[s,r,o,t,l,b,I,h,M,q,C]}class dt extends ce{constructor(e){super(),ue(this,e,ut,ct,oe,{query:0,player_id:1,tournament_id:2})}}function Oe(a,e,n){const t=a.slice();return t[14]=e[n],t}function Ne(a){let e,n=a[14].id+"",t,l;return{c(){e=T("option"),t=Q(n),this.h()},l(s){e=k(s,"OPTION",{});var r=S(e);t=R(r,n),r.forEach(w),this.h()},h(){e.__value=l=a[14].id,K(e,e.__value)},m(s,r){j(s,e,r),g(e,t)},p(s,r){r&4&&n!==(n=s[14].id+"")&&x(t,n),r&4&&l!==(l=s[14].id)&&(e.__value=l,K(e,e.__value))},d(s){s&&w(e)}}}function Pe(a){let e,n='<i class="bi bi-trash"></i>',t,l;return{c(){e=T("button"),e.innerHTML=n,this.h()},l(s){e=k(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(e)!=="svelte-71v1xh"&&(e.innerHTML=n),this.h()},h(){y(e,"type","button"),y(e,"class","btn btn-danger")},m(s,r){j(s,e,r),t||(l=z(e,"click",a[6]),t=!0)},p:Y,d(s){s&&w(e),t=!1,l()}}}function ft(a){let e,n,t,l,s="Winner",r,o,f,b="Player",I,L,h,E,M,q,C='<i class="bi bi-x"></i>',d,p,D='<i class="bi bi-floppy"></i>',N,P,i=W(a[2]),u=[];for(let _=0;_<i.length;_+=1)u[_]=Ne(Oe(a,i,_));let G=a[0].id&&Pe(a);return{c(){e=T("form"),n=T("div"),t=T("div"),l=T("label"),l.textContent=s,r=$(),o=T("select"),f=T("option"),f.textContent=b;for(let _=0;_<u.length;_+=1)u[_].c();I=$(),L=T("div"),h=T("div"),G&&G.c(),E=$(),M=T("div"),q=T("button"),q.innerHTML=C,d=$(),p=T("button"),p.innerHTML=D,this.h()},l(_){e=k(_,"FORM",{class:!0});var c=S(e);n=k(c,"DIV",{class:!0});var v=S(n);t=k(v,"DIV",{class:!0});var m=S(t);l=k(m,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(l)!=="svelte-1k1n3m2"&&(l.textContent=s),r=H(m),o=k(m,"SELECT",{id:!0,name:!0,class:!0,"aria-label":!0});var O=S(o);f=k(O,"OPTION",{"data-svelte-h":!0}),F(f)!=="svelte-1pwafry"&&(f.textContent=b);for(let V=0;V<u.length;V+=1)u[V].l(O);O.forEach(w),m.forEach(w),v.forEach(w),I=H(c),L=k(c,"DIV",{class:!0});var B=S(L);h=k(B,"DIV",{class:!0});var A=S(h);G&&G.l(A),E=H(A),M=k(A,"DIV",{class:!0});var U=S(M);q=k(U,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(q)!=="svelte-1v3uc8o"&&(q.innerHTML=C),d=H(U),p=k(U,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(p)!=="svelte-1y10wq9"&&(p.innerHTML=D),U.forEach(w),A.forEach(w),B.forEach(w),c.forEach(w),this.h()},h(){y(l,"for","winner_id"),y(l,"class","form-label"),f.selected=!0,f.__value=0,K(f,f.__value),y(o,"id","winner_id"),y(o,"name","winner_id"),y(o,"class","form-select"),y(o,"aria-label",""),a[1].match_id===void 0&&be(()=>a[10].call(o)),y(t,"class","d-flex flex-column gap-1"),y(n,"class","flex-fill overflow-auto d-flex flex-column gap-3"),y(q,"type","button"),y(q,"class","btn btn-secondary"),y(p,"type","submit"),y(p,"class","btn btn-primary"),y(M,"class","d-flex flex-row gap-3"),y(h,"class","d-flex gap-3"),de(h,"justify-content-between",a[0].id),de(h,"justify-content-end",!a[0].id),y(L,"class","flex-shrink-0"),y(e,"class","h-100 d-flex flex-column flex-fill")},m(_,c){j(_,e,c),g(e,n),g(n,t),g(t,l),g(t,r),g(t,o),g(o,f);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(o,null);ee(o,a[1].match_id,!0),g(e,I),g(e,L),g(L,h),G&&G.m(h,null),g(h,E),g(h,M),g(M,q),g(M,d),g(M,p),N||(P=[z(o,"change",a[10]),z(q,"click",a[7]),z(e,"submit",Ae(a[5]))],N=!0)},p(_,[c]){if(c&4){i=W(_[2]);let v;for(v=0;v<i.length;v+=1){const m=Oe(_,i,v);u[v]?u[v].p(m,c):(u[v]=Ne(m),u[v].c(),u[v].m(o,null))}for(;v<u.length;v+=1)u[v].d(1);u.length=i.length}c&6&&ee(o,_[1].match_id),_[0].id?G?G.p(_,c):(G=Pe(_),G.c(),G.m(h,E)):G&&(G.d(1),G=null),c&1&&de(h,"justify-content-between",_[0].id),c&1&&de(h,"justify-content-end",!_[0].id)},i:Y,o:Y,d(_){_&&w(e),_e(u,_),G&&G.d(),N=!1,$e(P)}}}function _t(a,e,n){let t,l;const s={id:0,match_id:0,game_number:0,is_tie_break:!1};let{drawerId:r=""}=e,{game:o=s}=e,f=0;const b=Ge(),{stores:{data:I}}=Je();me(a,I,d=>n(2,l=d));const L=Ke().shape({match_id:Ee(),game_number:Ee(),is_tie_break:ze()}),{form:h,handleSubmit:E}=Re({initialValues:s,validationSchema:L,onSubmit:d=>{let p={match_id:d.match_id,game_number:d.game_number,is_tie_break:d.is_tie_break};o.id?(p.id=o.id,b("update",{value:p})):o.id||b("create",{value:p})}});me(a,h,d=>n(1,t=d));const M=()=>{b("delete",{value:o.id})},q=()=>{const d=`[data-bs-target="#${r}"]`,p=document.querySelector(d);p&&(n(0,o=s),p?.click())};function C(){t.match_id=ye(this),h.set(t)}return a.$$set=d=>{"drawerId"in d&&n(8,r=d.drawerId),"game"in d&&n(0,o=d.game)},a.$$.update=()=>{a.$$.dirty&513&&o.id!==f&&(Be(h,t={...o},t),n(9,f=o?.id??0))},[o,t,l,I,h,E,M,q,r,f,C]}class mt extends ce{constructor(e){super(),ue(this,e,_t,ft,oe,{drawerId:8,game:0})}}function ht(a){let e,n,t;function l(r){a[9](r)}let s={drawerId:he};return a[0]!==void 0&&(s.game=a[0]),e=new mt({props:s}),Z.push(()=>X(e,"game",l)),e.$on("create",a[6]),e.$on("update",a[7]),e.$on("delete",a[8]),{c(){se(e.$$.fragment)},l(r){le(e.$$.fragment,r)},m(r,o){re(e,r,o),t=!0},p(r,o){const f={};!n&&o&1&&(n=!0,f.game=r[0],J(()=>n=!1)),e.$set(f)},i(r){t||(ne(e.$$.fragment,r),t=!0)},o(r){ae(e.$$.fragment,r),t=!1},d(r){te(e,r)}}}function gt(a){let e,n,t,l,s,r,o,f,b,I,L,h,E;e=new Ye({props:{title:"Games",id:he,$$slots:{default:[ht]},$$scope:{ctx:a}}});function M(i){a[10](i)}function q(i){a[11](i)}function C(i){a[12](i)}let d={};a[1]!==void 0&&(d.query=a[1]),a[2]!==void 0&&(d.player_id=a[2]),a[3]!==void 0&&(d.tournament_id=a[3]),l=new dt({props:d}),Z.push(()=>X(l,"query",M)),Z.push(()=>X(l,"player_id",q)),Z.push(()=>X(l,"tournament_id",C)),l.$on("triggerCreate",a[4]);function p(i){a[13](i)}function D(i){a[14](i)}function N(i){a[15](i)}let P={};return a[1]!==void 0&&(P.query=a[1]),a[2]!==void 0&&(P.player_id=a[2]),a[3]!==void 0&&(P.tournament_id=a[3]),b=new ot({props:P}),Z.push(()=>X(b,"query",p)),Z.push(()=>X(b,"player_id",D)),Z.push(()=>X(b,"tournament_id",N)),b.$on("gameClick",a[5]),{c(){se(e.$$.fragment),n=$(),t=T("div"),se(l.$$.fragment),f=$(),se(b.$$.fragment),this.h()},l(i){le(e.$$.fragment,i),n=H(i),t=k(i,"DIV",{class:!0});var u=S(t);le(l.$$.fragment,u),f=H(u),le(b.$$.fragment,u),u.forEach(w),this.h()},h(){y(t,"class","d-flex flex-column gap-3")},m(i,u){re(e,i,u),j(i,n,u),j(i,t,u),re(l,t,null),g(t,f),re(b,t,null),E=!0},p(i,[u]){const G={};u&524289&&(G.$$scope={dirty:u,ctx:i}),e.$set(G);const _={};!s&&u&2&&(s=!0,_.query=i[1],J(()=>s=!1)),!r&&u&4&&(r=!0,_.player_id=i[2],J(()=>r=!1)),!o&&u&8&&(o=!0,_.tournament_id=i[3],J(()=>o=!1)),l.$set(_);const c={};!I&&u&2&&(I=!0,c.query=i[1],J(()=>I=!1)),!L&&u&4&&(L=!0,c.player_id=i[2],J(()=>L=!1)),!h&&u&8&&(h=!0,c.tournament_id=i[3],J(()=>h=!1)),b.$set(c)},i(i){E||(ne(e.$$.fragment,i),ne(l.$$.fragment,i),ne(b.$$.fragment,i),E=!0)},o(i){ae(e.$$.fragment,i),ae(l.$$.fragment,i),ae(b.$$.fragment,i),E=!1},d(i){i&&(w(n),w(t)),te(e,i),te(l),te(b)}}}const he="game-drawer";function pt(a,e,n){let t,l,s,r;const o=()=>{const i=`[data-bs-target="#${he}"]`,u=document.querySelector(i);u&&u.click()},f=()=>{Ze(he)},b={id:0,match_id:0,game_number:0,is_tie_break:!1},I=()=>{n(0,t=b),f()},L=i=>{const{detail:u}=i;n(0,t=u?.value),f()},h=async i=>{const{detail:u}=i,G=u.value;if(G){const{actions:{createGame:_,reload:c}}=fe();await _(G),await c()}o()},E=async i=>{const{detail:u}=i,G=u?.value,_=G?.id;if(_){const{actions:{updateGame:c,reload:v}}=fe();await c(_,G),await v()}o()},M=async i=>{const{detail:u}=i,G=u?.value;if(G){const{actions:{deleteGame:_,reload:c}}=fe();await _(G),await c()}o()};function q(i){t=i,n(0,t)}function C(i){l=i,n(1,l)}function d(i){s=i,n(2,s)}function p(i){r=i,n(3,r)}function D(i){l=i,n(1,l)}function N(i){s=i,n(2,s)}function P(i){r=i,n(3,r)}return[t,l,s,r,I,L,h,E,M,q,C,d,p,D,N,P]}class vt extends ce{constructor(e){super(),ue(this,e,pt,gt,oe,{})}}function bt(a){let e,n;return e=new vt({}),{c(){se(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,l){re(e,t,l),n=!0},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){ae(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}function yt(a){let e,n;return e=new Ue({props:{pageTitle:"Games",$$slots:{default:[bt]},$$scope:{ctx:a}}}),{c(){se(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,l){re(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){ae(e.$$.fragment,t),n=!1},d(t){te(e,t)}}}class St extends ce{constructor(e){super(),ue(this,e,null,yt,oe,{})}}export{St as component,Mt as universal};
