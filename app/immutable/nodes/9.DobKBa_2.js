import{s as G,n as H,d as w,i as E,B as ie,Y as re,y as ye,Z as he,L as ge,b as u,e as v,o as C,h as $,p as ae,t as ne,l as me,m as _,H as M,q as D,f as V,v as I,r as _e,I as W,K as Z,_ as be,w as oe,$ as ve,G as x,a0 as ee}from"../chunks/CQU11sYc.js";import{S as K,i as Y,f as te,d as j,t as O,a as U,m as A,b as F,e as R}from"../chunks/ygo1-g9T.js";import{P as $e}from"../chunks/B1Akiuqc.js";import{e as ce}from"../chunks/BN2EK-kY.js";import{g as J}from"../chunks/D4iFRpCC.js";import{D as we,o as Ne}from"../chunks/DqsuVaXf.js";import{c as Pe,a as ke,b as qe}from"../chunks/Bd48NFI8.js";const Te=!0,et=Object.freeze(Object.defineProperty({__proto__:null,prerender:Te},Symbol.toStringTag,{value:"Module"}));function ue(l,e,r){const t=l.slice();return t[10]=e[r],t}function Ce(l){let e;return{c(){e=ne("No Data Found")},l(r){e=ae(r,"No Data Found")},m(r,t){E(r,e,t)},p:H,d(r){r&&w(e)}}}function Le(l){let e,r=ce(l[0]),t=[];for(let a=0;a<r.length;a+=1)t[a]=fe(ue(l,r,a));return{c(){e=$("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=v(a,"UL",{class:!0});var s=C(e);for(let n=0;n<t.length;n+=1)t[n].l(s);s.forEach(w),this.h()},h(){u(e,"class","list-group")},m(a,s){E(a,e,s);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(a,s){if(s&3){r=ce(a[0]);let n;for(n=0;n<r.length;n+=1){const i=ue(a,r,n);t[n]?t[n].p(i,s):(t[n]=fe(i),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=r.length}},d(a){a&&w(e),ge(t,a)}}}function fe(l){let e,r,t,a,s=l[10].name+"",n,i,d,h,N='<i class="bi bi-pencil-square"></i>',p,b,c;function o(){return l[5](l[10])}return{c(){e=$("li"),r=$("div"),t=$("span"),a=$("span"),n=ne(s),i=$("br"),d=I(),h=$("button"),h.innerHTML=N,p=I(),this.h()},l(g){e=v(g,"LI",{class:!0});var m=C(e);r=v(m,"DIV",{class:!0});var y=C(r);t=v(y,"SPAN",{});var f=C(t);a=v(f,"SPAN",{});var k=C(a);n=ae(k,s),k.forEach(w),i=v(f,"BR",{}),f.forEach(w),d=D(y),h=v(y,"BUTTON",{class:!0,"data-svelte-h":!0}),V(h)!=="svelte-sdkm16"&&(h.innerHTML=N),y.forEach(w),p=D(m),m.forEach(w),this.h()},h(){u(h,"class","btn btn-link"),u(r,"class","d-flex justify-content-between align-items-center"),u(e,"class","list-group-item")},m(g,m){E(g,e,m),_(e,r),_(r,t),_(t,a),_(a,n),_(t,i),_(r,d),_(r,h),_(e,p),b||(c=M(h,"click",o),b=!0)},p(g,m){l=g,m&1&&s!==(s=l[10].name+"")&&me(n,s)},d(g){g&&w(e),b=!1,c()}}}function De(l){let e;function r(s,n){return s[0]?.length?Le:Ce}let t=r(l),a=t(l);return{c(){a.c(),e=ie()},l(s){a.l(s),e=ie()},m(s,n){a.m(s,n),E(s,e,n)},p(s,[n]){t===(t=r(s))&&a?a.p(s,n):(a.d(1),a=t(s),a&&(a.c(),a.m(e.parentNode,e)))},i:H,o:H,d(s){s&&w(e),a.d(s)}}}function Ie(l){return l?l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):""}function Ee(l,e,r){let t;const{stores:{data:a},actions:{reload:s}}=J();let{query:n=""}=e,i=[],d=[];const h=a.subscribe(c=>{r(0,i=c),r(3,d=[...c])}),N=re(),p=c=>{N("playerClick",{value:c})};ye(s),he(h);const b=c=>p(c);return l.$$set=c=>{"query"in c&&r(2,n=c.query)},l.$$.update=()=>{l.$$.dirty&4&&r(4,t=Ie(n?.trim().toLowerCase())),l.$$.dirty&29&&(n?r(0,i=i.filter(c=>c.name.trim().toLowerCase().match(t.trim().toLowerCase()))):r(0,i=[...d]))},[i,p,n,d,t,b]}class Me extends K{constructor(e){super(),Y(this,e,Ee,De,G,{query:2})}}function Se(l){let e,r,t='<i class="bi bi-plus"></i>',a,s,n,i,d,h='<i class="bi bi-search"></i>',N,p;return{c(){e=$("div"),r=$("button"),r.innerHTML=t,a=I(),s=$("div"),n=$("input"),i=I(),d=$("span"),d.innerHTML=h,this.h()},l(b){e=v(b,"DIV",{class:!0});var c=C(e);r=v(c,"BUTTON",{class:!0,"data-svelte-h":!0}),V(r)!=="svelte-1vene98"&&(r.innerHTML=t),a=D(c),s=v(c,"DIV",{class:!0});var o=C(s);n=v(o,"INPUT",{type:!0,class:!0,placeholder:!0,"aria-label":!0,"aria-describedby":!0}),i=D(o),d=v(o,"SPAN",{class:!0,id:!0,"data-svelte-h":!0}),V(d)!=="svelte-nl1ps3"&&(d.innerHTML=h),o.forEach(w),c.forEach(w),this.h()},h(){u(r,"class","btn btn-primary"),u(n,"type","text"),u(n,"class","form-control"),u(n,"placeholder","Search"),u(n,"aria-label","search"),u(n,"aria-describedby","search"),u(d,"class","input-group-text"),u(d,"id","search"),u(s,"class","input-group"),u(e,"class","d-flex justify-content-between gap-3")},m(b,c){E(b,e,c),_(e,r),_(e,a),_(e,s),_(s,n),W(n,l[0]),_(s,i),_(s,d),N||(p=[M(r,"click",l[1]),M(n,"input",l[2])],N=!0)},p(b,[c]){c&1&&n.value!==b[0]&&W(n,b[0])},i:H,o:H,d(b){b&&w(e),N=!1,_e(p)}}}function He(l,e,r){let{query:t}=e;const a=re(),s=()=>{a("triggerCreate")};function n(){t=this.value,r(0,t)}return l.$$set=i=>{"query"in i&&r(0,t=i.query)},[t,s,n]}class Ve extends K{constructor(e){super(),Y(this,e,He,Se,G,{query:0})}}function de(l){let e,r=l[2].playerName+"",t;return{c(){e=$("div"),t=ne(r),this.h()},l(a){e=v(a,"DIV",{class:!0});var s=C(e);t=ae(s,r),s.forEach(w),this.h()},h(){u(e,"class","text-danger")},m(a,s){E(a,e,s),_(e,t)},p(a,s){s&4&&r!==(r=a[2].playerName+"")&&me(t,r)},d(a){a&&w(e)}}}function pe(l){let e,r='<i class="bi bi-trash"></i>',t,a;return{c(){e=$("button"),e.innerHTML=r,this.h()},l(s){e=v(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-71v1xh"&&(e.innerHTML=r),this.h()},h(){u(e,"type","button"),u(e,"class","btn btn-danger")},m(s,n){E(s,e,n),t||(a=M(e,"click",l[7]),t=!0)},p:H,d(s){s&&w(e),t=!1,a()}}}function Be(l){let e,r,t,a,s="Player Name",n,i,d,h,N,p,b,c,o,g='<i class="bi bi-x"></i>',m,y,f='<i class="bi bi-floppy"></i>',k,S,P=l[2].playerName&&de(l),q=l[0].id&&pe(l);return{c(){e=$("form"),r=$("div"),t=$("div"),a=$("label"),a.textContent=s,n=I(),i=$("input"),d=I(),P&&P.c(),h=I(),N=$("div"),p=$("div"),q&&q.c(),b=I(),c=$("div"),o=$("button"),o.innerHTML=g,m=I(),y=$("button"),y.innerHTML=f,this.h()},l(T){e=v(T,"FORM",{class:!0});var L=C(e);r=v(L,"DIV",{class:!0});var le=C(r);t=v(le,"DIV",{class:!0});var B=C(t);a=v(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),V(a)!=="svelte-ijx46g"&&(a.textContent=s),n=D(B),i=v(B,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),d=D(B),P&&P.l(B),B.forEach(w),le.forEach(w),h=D(L),N=v(L,"DIV",{class:!0});var se=C(N);p=v(se,"DIV",{class:!0});var z=C(p);q&&q.l(z),b=D(z),c=v(z,"DIV",{class:!0});var Q=C(c);o=v(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(o)!=="svelte-1v3uc8o"&&(o.innerHTML=g),m=D(Q),y=v(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(y)!=="svelte-1y10wq9"&&(y.innerHTML=f),Q.forEach(w),z.forEach(w),se.forEach(w),L.forEach(w),this.h()},h(){u(a,"for","playerName"),u(a,"class","form-label"),u(i,"id","playerName"),u(i,"type","text"),u(i,"name","playerName"),u(i,"class","form-control"),u(i,"placeholder",""),u(t,"class","d-flex flex-column gap-1"),u(r,"class","flex-fill overflow-auto d-flex flex-column gap-3"),u(o,"type","button"),u(o,"class","btn btn-secondary"),u(y,"type","submit"),u(y,"class","btn btn-primary"),u(c,"class","d-flex flex-row gap-3"),u(p,"class","d-flex gap-3"),Z(p,"justify-content-between",l[0].id),Z(p,"justify-content-end",!l[0].id),u(N,"class","flex-shrink-0"),u(e,"class","h-100 d-flex flex-column flex-fill")},m(T,L){E(T,e,L),_(e,r),_(r,t),_(t,a),_(t,n),_(t,i),W(i,l[1].playerName),_(t,d),P&&P.m(t,null),_(e,h),_(e,N),_(N,p),q&&q.m(p,null),_(p,b),_(p,c),_(c,o),_(c,m),_(c,y),k||(S=[M(i,"input",l[5]),M(i,"blur",l[5]),M(i,"input",l[11]),M(o,"click",l[8]),M(e,"submit",be(l[6]))],k=!0)},p(T,[L]){L&2&&i.value!==T[1].playerName&&W(i,T[1].playerName),T[2].playerName?P?P.p(T,L):(P=de(T),P.c(),P.m(t,null)):P&&(P.d(1),P=null),T[0].id?q?q.p(T,L):(q=pe(T),q.c(),q.m(p,b)):q&&(q.d(1),q=null),L&1&&Z(p,"justify-content-between",T[0].id),L&1&&Z(p,"justify-content-end",!T[0].id)},i:H,o:H,d(T){T&&w(e),P&&P.d(),q&&q.d(),k=!1,_e(S)}}}let je="";function Oe(l,e,r){let t,a;const s={id:0,name:""};let{drawerId:n=""}=e,{player:i=s}=e,d=0;const h=re(),N=Pe().shape({playerName:ke().required("Player name is required")}),{form:p,errors:b,handleChange:c,handleSubmit:o}=qe({initialValues:{playerName:i.name},validationSchema:N,onSubmit:f=>{i.id&&f.playerName?h("update",{value:{id:i.id,name:f.playerName}}):!i.id&&f.playerName&&h("create",{value:{name:f.playerName}})}});oe(l,p,f=>r(1,t=f)),oe(l,b,f=>r(2,a=f));const g=()=>{h("delete",{value:i.id})},m=()=>{const f=`[data-bs-target="#${n}"]`,k=document.querySelector(f);k&&(r(0,i={id:0,name:""}),k?.click())};function y(){t.playerName=this.value,p.set(t)}return l.$$set=f=>{"drawerId"in f&&r(9,n=f.drawerId),"player"in f&&r(0,i=f.player)},l.$$.update=()=>{l.$$.dirty&1025&&(i.id!==d||i.name!==je)&&(ve(p,t.playerName=i.name,t),r(10,d=i?.id??0))},[i,t,a,p,b,c,o,g,m,n,d,y]}class Ue extends K{constructor(e){super(),Y(this,e,Oe,Be,G,{drawerId:9,player:0})}}function Ae(l){let e,r,t;function a(n){l[7](n)}let s={drawerId:X};return l[0]!==void 0&&(s.player=l[0]),e=new Ue({props:s}),x.push(()=>te(e,"player",a)),e.$on("create",l[4]),e.$on("update",l[5]),e.$on("delete",l[6]),{c(){R(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,i){A(e,n,i),t=!0},p(n,i){const d={};!r&&i&1&&(r=!0,d.player=n[0],ee(()=>r=!1)),e.$set(d)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Fe(l){let e,r,t,a,s,n,i,d,h;e=new we({props:{title:"Player",id:X,$$slots:{default:[Ae]},$$scope:{ctx:l}}});function N(o){l[8](o)}let p={};l[1]!==void 0&&(p.query=l[1]),a=new Ve({props:p}),x.push(()=>te(a,"query",N)),a.$on("triggerCreate",l[2]);function b(o){l[9](o)}let c={};return l[1]!==void 0&&(c.query=l[1]),i=new Me({props:c}),x.push(()=>te(i,"query",b)),i.$on("playerClick",l[3]),{c(){R(e.$$.fragment),r=I(),t=$("div"),R(a.$$.fragment),n=I(),R(i.$$.fragment),this.h()},l(o){F(e.$$.fragment,o),r=D(o),t=v(o,"DIV",{class:!0});var g=C(t);F(a.$$.fragment,g),n=D(g),F(i.$$.fragment,g),g.forEach(w),this.h()},h(){u(t,"class","d-flex flex-column gap-3")},m(o,g){A(e,o,g),E(o,r,g),E(o,t,g),A(a,t,null),_(t,n),A(i,t,null),h=!0},p(o,[g]){const m={};g&8193&&(m.$$scope={dirty:g,ctx:o}),e.$set(m);const y={};!s&&g&2&&(s=!0,y.query=o[1],ee(()=>s=!1)),a.$set(y);const f={};!d&&g&2&&(d=!0,f.query=o[1],ee(()=>d=!1)),i.$set(f)},i(o){h||(U(e.$$.fragment,o),U(a.$$.fragment,o),U(i.$$.fragment,o),h=!0)},o(o){O(e.$$.fragment,o),O(a.$$.fragment,o),O(i.$$.fragment,o),h=!1},d(o){o&&(w(r),w(t)),j(e,o),j(a),j(i)}}}const X="player-drawer";function Re(l,e,r){let t,a;const s=()=>{const m=`[data-bs-target="#${X}"]`,y=document.querySelector(m);y&&y.click()},n=()=>{Ne(X)},i={id:0,name:""},d=()=>{r(0,t=i),n()},h=m=>{const{detail:y}=m;r(0,t=y?.value),console.log("selectedPlayer",t),n()},N=async m=>{const{detail:y}=m,f=y.value;if(f){const{actions:{createPlayer:k,reload:S}}=J();await k(f),await S()}s()},p=async m=>{const{detail:y}=m,f=y?.value,k=f?.id;if(k){const{actions:{updatePlayer:S,reload:P}}=J();await S(k,f),await P()}s()},b=async m=>{const{detail:y}=m,f=y?.value;if(f){const{actions:{deletePlayer:k,reload:S}}=J();await k(f),await S()}s()};function c(m){t=m,r(0,t)}function o(m){a=m,r(1,a)}function g(m){a=m,r(1,a)}return[t,a,d,h,N,p,b,c,o,g]}class Ge extends K{constructor(e){super(),Y(this,e,Re,Fe,G,{})}}function Ke(l){let e,r;return e=new Ge({}),{c(){R(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},i(t){r||(U(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function Ye(l){let e,r;return e=new $e({props:{pageTitle:"Players",$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},p(t,[a]){const s={};a&1&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){r||(U(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}class tt extends K{constructor(e){super(),Y(this,e,null,Ye,G,{})}}export{tt as component,et as universal};
