import{s as ze,n as Ee,d as v,i as F,B as Dt,Y as Ct,y as Wt,Z as Xt,L as Ie,b as o,e as h,o as L,h as m,p as oe,t as se,l as de,m as s,H as $,q as N,f as R,v as S,r as Yt,I as j,_ as _e,S as He,w as Ae,$ as je,K as tt,a0 as xt,a1 as el,G as Te,a2 as Le}from"../chunks/OtXKyCBO.js";import{S as Qe,i as We,f as ke,d as Ue,t as Fe,a as $e,m as Ge,b as Ke,e as Re}from"../chunks/Deut8iu_.js";import{P as tl}from"../chunks/BSHi9MXr.js";import{e as ie}from"../chunks/D_4t51R6.js";import{g as nt}from"../chunks/pK9b_fmc.js";import{g as Zt}from"../chunks/C-QPIhkw.js";import{g as Jt}from"../chunks/CBvwyhs7.js";import{D as ll,o as nl}from"../chunks/ChMTb6rQ.js";import{c as al,a as yt,b as lt,d as rl}from"../chunks/UAvfk3Ig.js";const il=!0,Sl=Object.freeze(Object.defineProperty({__proto__:null,prerender:il},Symbol.toStringTag,{value:"Module"}));function Ot(l,e,n){const t=l.slice();return t[13]=e[n],t}function ol(l){let e;return{c(){e=se("No Data Found")},l(n){e=oe(n,"No Data Found")},m(n,t){F(n,e,t)},p:Ee,d(n){n&&v(e)}}}function sl(l){let e,n=ie(l[0]),t=[];for(let r=0;r<n.length;r+=1)t[r]=Pt(Ot(l,n,r));return{c(){e=m("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=h(r,"UL",{class:!0});var a=L(e);for(let i=0;i<t.length;i+=1)t[i].l(a);a.forEach(v),this.h()},h(){o(e,"class","list-group")},m(r,a){F(r,e,a);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(r,a){if(a&3){n=ie(r[0]);let i;for(i=0;i<n.length;i+=1){const g=Ot(r,n,i);t[i]?t[i].p(g,a):(t[i]=Pt(g),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(r){r&&v(e),Ie(t,r)}}}function Pt(l){let e,n,t,r,a=l[13]?.date+"",i,g,b,C=l[13]?.player1?.name+"",V,M,T,P="vs",G,w=l[13]?.player2?.name+"",y,E,B,q=l[13]?.tournaments?.name+"",D,K,u,_='<i class="bi bi-pencil-square"></i>',I,k,p;function O(){return l[6](l[13])}return{c(){e=m("li"),n=m("div"),t=m("div"),r=m("small"),i=se(a),g=S(),b=m("div"),V=se(C),M=S(),T=m("em"),T.textContent=P,G=S(),y=se(w),E=S(),B=m("small"),D=se(q),K=S(),u=m("button"),u.innerHTML=_,I=S(),this.h()},l(d){e=h(d,"LI",{class:!0});var H=L(e);n=h(H,"DIV",{class:!0});var fe=L(n);t=h(fe,"DIV",{});var U=L(t);r=h(U,"SMALL",{class:!0});var z=L(r);i=oe(z,a),z.forEach(v),g=N(U),b=h(U,"DIV",{});var Q=L(b);V=oe(Q,C),M=N(Q),T=h(Q,"EM",{"data-svelte-h":!0}),R(T)!=="svelte-1ytjshd"&&(T.textContent=P),G=N(Q),y=oe(Q,w),Q.forEach(v),E=N(U),B=h(U,"SMALL",{class:!0});var Me=L(B);D=oe(Me,q),Me.forEach(v),U.forEach(v),K=N(fe),u=h(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),R(u)!=="svelte-10nsr6g"&&(u.innerHTML=_),fe.forEach(v),I=N(H),H.forEach(v),this.h()},h(){o(r,"class","fw-lighter"),o(B,"class","fw-lighter"),o(u,"class","btn btn-link"),o(n,"class","d-flex justify-content-between align-items-start"),o(e,"class","list-group-item")},m(d,H){F(d,e,H),s(e,n),s(n,t),s(t,r),s(r,i),s(t,g),s(t,b),s(b,V),s(b,M),s(b,T),s(b,G),s(b,y),s(t,E),s(t,B),s(B,D),s(n,K),s(n,u),s(e,I),k||(p=$(u,"click",O),k=!0)},p(d,H){l=d,H&1&&a!==(a=l[13]?.date+"")&&de(i,a),H&1&&C!==(C=l[13]?.player1?.name+"")&&de(V,C),H&1&&w!==(w=l[13]?.player2?.name+"")&&de(y,w),H&1&&q!==(q=l[13]?.tournaments?.name+"")&&de(D,q)},d(d){d&&v(e),k=!1,p()}}}function ul(l){let e;function n(a,i){return a[0]?.length?sl:ol}let t=n(l),r=t(l);return{c(){r.c(),e=Dt()},l(a){r.l(a),e=Dt()},m(a,i){r.m(a,i),F(a,e,i)},p(a,[i]){t===(t=n(a))&&r?r.p(a,i):(r.d(1),r=t(a),r&&(r.c(),r.m(e.parentNode,e)))},i:Ee,o:Ee,d(a){a&&v(e),r.d(a)}}}function cl(l){return l?l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):""}function dl(l,e,n){let t;const{stores:{data:r},actions:{reload:a}}=nt();let{query:i=""}=e,{player_id:g=0}=e,{tournament_id:b=0}=e,C=[],V=[];const M=r.subscribe(y=>{n(0,C=y),n(5,V=[...y])}),T=Ct(),P=y=>{T("matchClick",{value:y})},G=(y,E,B)=>{let q=[...C];return y&&(q=q.filter(D=>{const K=D?.tournaments?.name?.trim().toLowerCase().match(t.trim().toLowerCase()),u=D?.player1?.name?.trim().toLowerCase().match(t.trim().toLowerCase()),_=D?.player2?.name?.trim().toLowerCase().match(t.trim().toLowerCase()),I=D?.winner?.name?.trim().toLowerCase().match(t.trim().toLowerCase());return K||u||_||I})),E&&(q=q.filter(D=>D.player1_id===E||D.player2_id===E)),B&&(q=q.filter(D=>D.tournament_id===B)),q};Wt(a),Xt(M);const w=y=>P(y);return l.$$set=y=>{"query"in y&&n(2,i=y.query),"player_id"in y&&n(3,g=y.player_id),"tournament_id"in y&&n(4,b=y.tournament_id)},l.$$.update=()=>{l.$$.dirty&4&&(t=cl(i?.trim().toLowerCase())),l.$$.dirty&60&&(i||g||b?n(0,C=G(i,g,b)):n(0,C=[...V]))},[C,P,i,g,b,V,w]}class fl extends Qe{constructor(e){super(),We(this,e,dl,ul,ze,{query:2,player_id:3,tournament_id:4})}}function qt(l,e,n){const t=l.slice();return t[14]=e[n],t}function Nt(l,e,n){const t=l.slice();return t[17]=e[n],t}function St(l){let e,n=l[17].name+"",t,r;return{c(){e=m("option"),t=se(n),this.h()},l(a){e=h(a,"OPTION",{});var i=L(e);t=oe(i,n),i.forEach(v),this.h()},h(){e.__value=r=l[17].id,j(e,e.__value)},m(a,i){F(a,e,i),s(e,t)},p(a,i){i&8&&n!==(n=a[17].name+"")&&de(t,n),i&8&&r!==(r=a[17].id)&&(e.__value=r,j(e,e.__value))},d(a){a&&v(e)}}}function Vt(l){let e,n=l[14].name+"",t,r;return{c(){e=m("option"),t=se(n),this.h()},l(a){e=h(a,"OPTION",{});var i=L(e);t=oe(i,n),i.forEach(v),this.h()},h(){e.__value=r=l[14].id,j(e,e.__value)},m(a,i){F(a,e,i),s(e,t)},p(a,i){i&16&&n!==(n=a[14].name+"")&&de(t,n),i&16&&r!==(r=a[14].id)&&(e.__value=r,j(e,e.__value))},d(a){a&&v(e)}}}function _l(l){let e,n,t='<i class="bi bi-plus"></i>',r,a,i,g,b,C='<i class="bi bi-search"></i>',V,M,T,P,G="Tournament",w,y,E,B,q="Players",D,K,u=ie(l[3]),_=[];for(let p=0;p<u.length;p+=1)_[p]=St(Nt(l,u,p));let I=ie(l[4]),k=[];for(let p=0;p<I.length;p+=1)k[p]=Vt(qt(l,I,p));return{c(){e=m("div"),n=m("button"),n.innerHTML=t,r=S(),a=m("div"),i=m("input"),g=S(),b=m("span"),b.innerHTML=C,V=S(),M=m("div"),T=m("select"),P=m("option"),P.textContent=G;for(let p=0;p<_.length;p+=1)_[p].c();w=S(),y=m("div"),E=m("select"),B=m("option"),B.textContent=q;for(let p=0;p<k.length;p+=1)k[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var O=L(e);n=h(O,"BUTTON",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-1vene98"&&(n.innerHTML=t),r=N(O),a=h(O,"DIV",{class:!0});var d=L(a);i=h(d,"INPUT",{type:!0,class:!0,placeholder:!0,"aria-label":!0,"aria-describedby":!0}),g=N(d),b=h(d,"SPAN",{class:!0,id:!0,"data-svelte-h":!0}),R(b)!=="svelte-nl1ps3"&&(b.innerHTML=C),d.forEach(v),O.forEach(v),V=N(p),M=h(p,"DIV",{class:!0});var H=L(M);T=h(H,"SELECT",{class:!0,"aria-label":!0});var fe=L(T);P=h(fe,"OPTION",{"data-svelte-h":!0}),R(P)!=="svelte-dccae4"&&(P.textContent=G);for(let Q=0;Q<_.length;Q+=1)_[Q].l(fe);fe.forEach(v),H.forEach(v),w=N(p),y=h(p,"DIV",{class:!0});var U=L(y);E=h(U,"SELECT",{class:!0,"aria-label":!0});var z=L(E);B=h(z,"OPTION",{"data-svelte-h":!0}),R(B)!=="svelte-79ot39"&&(B.textContent=q);for(let Q=0;Q<k.length;Q+=1)k[Q].l(z);z.forEach(v),U.forEach(v),this.h()},h(){o(n,"class","btn btn-primary"),o(i,"type","text"),o(i,"class","form-control"),o(i,"placeholder","Search"),o(i,"aria-label","search"),o(i,"aria-describedby","search"),o(b,"class","input-group-text"),o(b,"id","search"),o(a,"class","input-group"),o(e,"class","d-flex justify-content-between gap-3"),P.selected=!0,P.__value=0,j(P,P.__value),o(T,"class","form-select"),o(T,"aria-label",""),l[2]===void 0&&He(()=>l[9].call(T)),o(M,"class","d-flex justify-content-between gap-3"),B.selected=!0,B.__value=0,j(B,B.__value),o(E,"class","form-select"),o(E,"aria-label",""),l[1]===void 0&&He(()=>l[10].call(E)),o(y,"class","d-flex justify-content-between gap-3")},m(p,O){F(p,e,O),s(e,n),s(e,r),s(e,a),s(a,i),j(i,l[0]),s(a,g),s(a,b),F(p,V,O),F(p,M,O),s(M,T),s(T,P);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(T,null);_e(T,l[2],!0),F(p,w,O),F(p,y,O),s(y,E),s(E,B);for(let d=0;d<k.length;d+=1)k[d]&&k[d].m(E,null);_e(E,l[1],!0),D||(K=[$(n,"click",l[5]),$(i,"input",l[8]),$(T,"change",l[9]),$(E,"change",l[10])],D=!0)},p(p,[O]){if(O&1&&i.value!==p[0]&&j(i,p[0]),O&8){u=ie(p[3]);let d;for(d=0;d<u.length;d+=1){const H=Nt(p,u,d);_[d]?_[d].p(H,O):(_[d]=St(H),_[d].c(),_[d].m(T,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=u.length}if(O&12&&_e(T,p[2]),O&16){I=ie(p[4]);let d;for(d=0;d<I.length;d+=1){const H=qt(p,I,d);k[d]?k[d].p(H,O):(k[d]=Vt(H),k[d].c(),k[d].m(E,null))}for(;d<k.length;d+=1)k[d].d(1);k.length=I.length}O&18&&_e(E,p[1])},i:Ee,o:Ee,d(p){p&&(v(e),v(V),v(M),v(w),v(y)),Ie(_,p),Ie(k,p),D=!1,Yt(K)}}}function hl(l,e,n){let t,r,{query:a}=e,{player_id:i}=e,{tournament_id:g}=e;const b=Ct(),C=()=>{b("triggerCreate")},{stores:{data:V},actions:{reload:M}}=Jt();Ae(l,V,E=>n(3,t=E));const{stores:{data:T},actions:{reload:P}}=Zt();Ae(l,T,E=>n(4,r=E)),Wt(async()=>{await M(),await P()});function G(){a=this.value,n(0,a)}function w(){g=je(this),n(2,g)}function y(){i=je(this),n(1,i)}return l.$$set=E=>{"query"in E&&n(0,a=E.query),"player_id"in E&&n(1,i=E.player_id),"tournament_id"in E&&n(2,g=E.tournament_id)},[a,i,g,t,r,C,V,T,G,w,y]}class ml extends Qe{constructor(e){super(),We(this,e,hl,_l,ze,{query:0,player_id:1,tournament_id:2})}}function Bt(l,e,n){const t=l.slice();return t[25]=e[n],t}function Ht(l,e,n){const t=l.slice();return t[25]=e[n],t}function At(l,e,n){const t=l.slice();return t[30]=e[n],t}function jt(l,e,n){const t=l.slice();return t[25]=e[n],t}function Ut(l){let e,n=l[25].name+"",t,r;return{c(){e=m("option"),t=se(n),this.h()},l(a){e=h(a,"OPTION",{});var i=L(e);t=oe(i,n),i.forEach(v),this.h()},h(){e.__value=r=l[25].id,j(e,e.__value)},m(a,i){F(a,e,i),s(e,t)},p(a,i){i[0]&4&&n!==(n=a[25].name+"")&&de(t,n),i[0]&4&&r!==(r=a[25].id)&&(e.__value=r,j(e,e.__value))},d(a){a&&v(e)}}}function Ft(l){let e,n=l[30].name+"",t,r;return{c(){e=m("option"),t=se(n),this.h()},l(a){e=h(a,"OPTION",{});var i=L(e);t=oe(i,n),i.forEach(v),this.h()},h(){e.__value=r=l[30].id,j(e,e.__value)},m(a,i){F(a,e,i),s(e,t)},p(a,i){i[0]&8&&n!==(n=a[30].name+"")&&de(t,n),i[0]&8&&r!==(r=a[30].id)&&(e.__value=r,j(e,e.__value))},d(a){a&&v(e)}}}function $t(l){let e,n=l[25].name+"",t,r;return{c(){e=m("option"),t=se(n),this.h()},l(a){e=h(a,"OPTION",{});var i=L(e);t=oe(i,n),i.forEach(v),this.h()},h(){e.__value=r=l[25].id,j(e,e.__value)},m(a,i){F(a,e,i),s(e,t)},p(a,i){i[0]&4&&n!==(n=a[25].name+"")&&de(t,n),i[0]&4&&r!==(r=a[25].id)&&(e.__value=r,j(e,e.__value))},d(a){a&&v(e)}}}function Gt(l){let e,n=l[25].name+"",t,r;return{c(){e=m("option"),t=se(n),this.h()},l(a){e=h(a,"OPTION",{});var i=L(e);t=oe(i,n),i.forEach(v),this.h()},h(){e.__value=r=l[25].id,j(e,e.__value)},m(a,i){F(a,e,i),s(e,t)},p(a,i){i[0]&4&&n!==(n=a[25].name+"")&&de(t,n),i[0]&4&&r!==(r=a[25].id)&&(e.__value=r,j(e,e.__value))},d(a){a&&v(e)}}}function Kt(l){let e,n=l[4].date+"",t;return{c(){e=m("div"),t=se(n),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=L(e);t=oe(a,n),a.forEach(v),this.h()},h(){o(e,"class","text-danger")},m(r,a){F(r,e,a),s(e,t)},p(r,a){a[0]&16&&n!==(n=r[4].date+"")&&de(t,n)},d(r){r&&v(e)}}}function Rt(l){let e,n=l[4].round+"",t;return{c(){e=m("div"),t=se(n),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=L(e);t=oe(a,n),a.forEach(v),this.h()},h(){o(e,"class","text-danger")},m(r,a){F(r,e,a),s(e,t)},p(r,a){a[0]&16&&n!==(n=r[4].round+"")&&de(t,n)},d(r){r&&v(e)}}}function zt(l){let e,n=l[4].location+"",t;return{c(){e=m("div"),t=se(n),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=L(e);t=oe(a,n),a.forEach(v),this.h()},h(){o(e,"class","text-danger")},m(r,a){F(r,e,a),s(e,t)},p(r,a){a[0]&16&&n!==(n=r[4].location+"")&&de(t,n)},d(r){r&&v(e)}}}function Qt(l){let e,n='<i class="bi bi-trash"></i>',t,r;return{c(){e=m("button"),e.innerHTML=n,this.h()},l(a){e=h(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),R(e)!=="svelte-71v1xh"&&(e.innerHTML=n),this.h()},h(){o(e,"type","button"),o(e,"class","btn btn-danger")},m(a,i){F(a,e,i),t||(r=$(e,"click",l[11]),t=!0)},p:Ee,d(a){a&&v(e),t=!1,r()}}}function pl(l){let e,n,t,r,a="Winner",i,g,b,C="Player",V,M,T,P="Tournament",G,w,y,E="Tournament",B,q,D,K="Player 1",u,_,I,k="Player",p,O,d,H="Player 2",fe,U,z,Q="Player",Me,he,ge,wt="Date",rt,ue,it,ot,me,be,Et="Round",st,ae,ut,ct,pe,ye,Tt="Location",dt,re,ft,_t,De,ce,Ye,Ce,ve,Lt='<i class="bi bi-x"></i>',ht,we,kt='<i class="bi bi-floppy"></i>',mt,It,Oe=ie(l[2]),W=[];for(let f=0;f<Oe.length;f+=1)W[f]=Ut(jt(l,Oe,f));let Pe=ie(l[3]),Y=[];for(let f=0;f<Pe.length;f+=1)Y[f]=Ft(At(l,Pe,f));let qe=ie(l[2]),Z=[];for(let f=0;f<qe.length;f+=1)Z[f]=$t(Ht(l,qe,f));let Ne=ie(l[2]),J=[];for(let f=0;f<Ne.length;f+=1)J[f]=Gt(Bt(l,Ne,f));let X=l[4].date&&Kt(l),x=l[4].round&&Rt(l),ee=l[4].location&&zt(l),te=l[0].id&&Qt(l);return{c(){e=m("form"),n=m("div"),t=m("div"),r=m("label"),r.textContent=a,i=S(),g=m("select"),b=m("option"),b.textContent=C;for(let f=0;f<W.length;f+=1)W[f].c();V=S(),M=m("div"),T=m("label"),T.textContent=P,G=S(),w=m("select"),y=m("option"),y.textContent=E;for(let f=0;f<Y.length;f+=1)Y[f].c();B=S(),q=m("div"),D=m("label"),D.textContent=K,u=S(),_=m("select"),I=m("option"),I.textContent=k;for(let f=0;f<Z.length;f+=1)Z[f].c();p=S(),O=m("div"),d=m("label"),d.textContent=H,fe=S(),U=m("select"),z=m("option"),z.textContent=Q;for(let f=0;f<J.length;f+=1)J[f].c();Me=S(),he=m("div"),ge=m("label"),ge.textContent=wt,rt=S(),ue=m("input"),it=S(),X&&X.c(),ot=S(),me=m("div"),be=m("label"),be.textContent=Et,st=S(),ae=m("input"),ut=S(),x&&x.c(),ct=S(),pe=m("div"),ye=m("label"),ye.textContent=Tt,dt=S(),re=m("input"),ft=S(),ee&&ee.c(),_t=S(),De=m("div"),ce=m("div"),te&&te.c(),Ye=S(),Ce=m("div"),ve=m("button"),ve.innerHTML=Lt,ht=S(),we=m("button"),we.innerHTML=kt,this.h()},l(f){e=h(f,"FORM",{class:!0});var A=L(e);n=h(A,"DIV",{class:!0});var c=L(n);t=h(c,"DIV",{class:!0});var le=L(t);r=h(le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(r)!=="svelte-1k1n3m2"&&(r.textContent=a),i=N(le),g=h(le,"SELECT",{id:!0,name:!0,class:!0,"aria-label":!0});var pt=L(g);b=h(pt,"OPTION",{"data-svelte-h":!0}),R(b)!=="svelte-1pwafry"&&(b.textContent=C);for(let ne=0;ne<W.length;ne+=1)W[ne].l(pt);pt.forEach(v),le.forEach(v),V=N(c),M=h(c,"DIV",{class:!0});var Ze=L(M);T=h(Ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(T)!=="svelte-1iectm2"&&(T.textContent=P),G=N(Ze),w=h(Ze,"SELECT",{id:!0,name:!0,class:!0,"aria-label":!0});var vt=L(w);y=h(vt,"OPTION",{"data-svelte-h":!0}),R(y)!=="svelte-dccae4"&&(y.textContent=E);for(let ne=0;ne<Y.length;ne+=1)Y[ne].l(vt);vt.forEach(v),Ze.forEach(v),B=N(c),q=h(c,"DIV",{class:!0});var Je=L(q);D=h(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(D)!=="svelte-gttrzg"&&(D.textContent=K),u=N(Je),_=h(Je,"SELECT",{id:!0,name:!0,class:!0,"aria-label":!0});var gt=L(_);I=h(gt,"OPTION",{"data-svelte-h":!0}),R(I)!=="svelte-1pwafry"&&(I.textContent=k);for(let ne=0;ne<Z.length;ne+=1)Z[ne].l(gt);gt.forEach(v),Je.forEach(v),p=N(c),O=h(c,"DIV",{class:!0});var Xe=L(O);d=h(Xe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(d)!=="svelte-hx7hs8"&&(d.textContent=H),fe=N(Xe),U=h(Xe,"SELECT",{id:!0,name:!0,class:!0,"aria-label":!0});var bt=L(U);z=h(bt,"OPTION",{"data-svelte-h":!0}),R(z)!=="svelte-1pwafry"&&(z.textContent=Q);for(let ne=0;ne<J.length;ne+=1)J[ne].l(bt);bt.forEach(v),Xe.forEach(v),Me=N(c),he=h(c,"DIV",{class:!0});var Se=L(he);ge=h(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(ge)!=="svelte-1jy0m8a"&&(ge.textContent=wt),rt=N(Se),ue=h(Se,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),it=N(Se),X&&X.l(Se),Se.forEach(v),ot=N(c),me=h(c,"DIV",{class:!0});var Ve=L(me);be=h(Ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(be)!=="svelte-1d16suy"&&(be.textContent=Et),st=N(Ve),ae=h(Ve,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),ut=N(Ve),x&&x.l(Ve),Ve.forEach(v),ct=N(c),pe=h(c,"DIV",{class:!0});var Be=L(pe);ye=h(Be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(ye)!=="svelte-18vqoy4"&&(ye.textContent=Tt),dt=N(Be),re=h(Be,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),ft=N(Be),ee&&ee.l(Be),Be.forEach(v),c.forEach(v),_t=N(A),De=h(A,"DIV",{class:!0});var Mt=L(De);ce=h(Mt,"DIV",{class:!0});var xe=L(ce);te&&te.l(xe),Ye=N(xe),Ce=h(xe,"DIV",{class:!0});var et=L(Ce);ve=h(et,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),R(ve)!=="svelte-1v3uc8o"&&(ve.innerHTML=Lt),ht=N(et),we=h(et,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),R(we)!=="svelte-1y10wq9"&&(we.innerHTML=kt),et.forEach(v),xe.forEach(v),Mt.forEach(v),A.forEach(v),this.h()},h(){o(r,"for","winner_id"),o(r,"class","form-label"),b.selected=!0,b.__value=0,j(b,b.__value),o(g,"id","winner_id"),o(g,"name","winner_id"),o(g,"class","form-select"),o(g,"aria-label",""),l[1].winner_id===void 0&&He(()=>l[15].call(g)),o(t,"class","d-flex flex-column gap-1"),o(T,"for","tournament_id"),o(T,"class","form-label"),y.selected=!0,y.__value=0,j(y,y.__value),o(w,"id","tournament_id"),o(w,"name","tournament_id"),o(w,"class","form-select"),o(w,"aria-label",""),l[1].tournament_id===void 0&&He(()=>l[16].call(w)),o(M,"class","d-flex flex-column gap-1"),o(D,"for","player1_id"),o(D,"class","form-label"),I.selected=!0,I.__value=0,j(I,I.__value),o(_,"id","player1_id"),o(_,"name","player1_id"),o(_,"class","form-select"),o(_,"aria-label",""),l[1].player1_id===void 0&&He(()=>l[17].call(_)),o(q,"class","d-flex flex-column gap-1"),o(d,"for","player2_id"),o(d,"class","form-label"),z.selected=!0,z.__value=0,j(z,z.__value),o(U,"id","player2_id"),o(U,"name","player2_id"),o(U,"class","form-select"),o(U,"aria-label",""),l[1].player2_id===void 0&&He(()=>l[18].call(U)),o(O,"class","d-flex flex-column gap-1"),o(ge,"for","date"),o(ge,"class","form-label"),o(ue,"id","date"),o(ue,"type","date"),o(ue,"name","date"),o(ue,"class","form-control"),o(ue,"placeholder",""),o(he,"class","d-flex flex-column gap-1"),o(be,"for","round"),o(be,"class","form-label"),o(ae,"id","round"),o(ae,"type","text"),o(ae,"name","round"),o(ae,"class","form-control"),o(ae,"placeholder",""),o(me,"class","d-flex flex-column gap-1"),o(ye,"for","location"),o(ye,"class","form-label"),o(re,"id","location"),o(re,"type","text"),o(re,"name","location"),o(re,"class","form-control"),o(re,"placeholder",""),o(pe,"class","d-flex flex-column gap-1"),o(n,"class","flex-fill overflow-auto d-flex flex-column gap-3"),o(ve,"type","button"),o(ve,"class","btn btn-secondary"),o(we,"type","submit"),o(we,"class","btn btn-primary"),o(Ce,"class","d-flex flex-row gap-3"),o(ce,"class","d-flex gap-3"),tt(ce,"justify-content-between",l[0].id),tt(ce,"justify-content-end",!l[0].id),o(De,"class","flex-shrink-0"),o(e,"class","h-100 d-flex flex-column flex-fill")},m(f,A){F(f,e,A),s(e,n),s(n,t),s(t,r),s(t,i),s(t,g),s(g,b);for(let c=0;c<W.length;c+=1)W[c]&&W[c].m(g,null);_e(g,l[1].winner_id,!0),s(n,V),s(n,M),s(M,T),s(M,G),s(M,w),s(w,y);for(let c=0;c<Y.length;c+=1)Y[c]&&Y[c].m(w,null);_e(w,l[1].tournament_id,!0),s(n,B),s(n,q),s(q,D),s(q,u),s(q,_),s(_,I);for(let c=0;c<Z.length;c+=1)Z[c]&&Z[c].m(_,null);_e(_,l[1].player1_id,!0),s(n,p),s(n,O),s(O,d),s(O,fe),s(O,U),s(U,z);for(let c=0;c<J.length;c+=1)J[c]&&J[c].m(U,null);_e(U,l[1].player2_id,!0),s(n,Me),s(n,he),s(he,ge),s(he,rt),s(he,ue),j(ue,l[1].date),s(he,it),X&&X.m(he,null),s(n,ot),s(n,me),s(me,be),s(me,st),s(me,ae),j(ae,l[1].round),s(me,ut),x&&x.m(me,null),s(n,ct),s(n,pe),s(pe,ye),s(pe,dt),s(pe,re),j(re,l[1].location),s(pe,ft),ee&&ee.m(pe,null),s(e,_t),s(e,De),s(De,ce),te&&te.m(ce,null),s(ce,Ye),s(ce,Ce),s(Ce,ve),s(Ce,ht),s(Ce,we),mt||(It=[$(g,"change",l[15]),$(w,"change",l[16]),$(_,"change",l[17]),$(U,"change",l[18]),$(ue,"input",l[9]),$(ue,"blur",l[9]),$(ue,"input",l[19]),$(ae,"input",l[9]),$(ae,"blur",l[9]),$(ae,"input",l[20]),$(re,"input",l[9]),$(re,"blur",l[9]),$(re,"input",l[21]),$(ve,"click",l[12]),$(e,"submit",xt(l[10]))],mt=!0)},p(f,A){if(A[0]&4){Oe=ie(f[2]);let c;for(c=0;c<Oe.length;c+=1){const le=jt(f,Oe,c);W[c]?W[c].p(le,A):(W[c]=Ut(le),W[c].c(),W[c].m(g,null))}for(;c<W.length;c+=1)W[c].d(1);W.length=Oe.length}if(A[0]&6&&_e(g,f[1].winner_id),A[0]&8){Pe=ie(f[3]);let c;for(c=0;c<Pe.length;c+=1){const le=At(f,Pe,c);Y[c]?Y[c].p(le,A):(Y[c]=Ft(le),Y[c].c(),Y[c].m(w,null))}for(;c<Y.length;c+=1)Y[c].d(1);Y.length=Pe.length}if(A[0]&6&&_e(w,f[1].tournament_id),A[0]&4){qe=ie(f[2]);let c;for(c=0;c<qe.length;c+=1){const le=Ht(f,qe,c);Z[c]?Z[c].p(le,A):(Z[c]=$t(le),Z[c].c(),Z[c].m(_,null))}for(;c<Z.length;c+=1)Z[c].d(1);Z.length=qe.length}if(A[0]&6&&_e(_,f[1].player1_id),A[0]&4){Ne=ie(f[2]);let c;for(c=0;c<Ne.length;c+=1){const le=Bt(f,Ne,c);J[c]?J[c].p(le,A):(J[c]=Gt(le),J[c].c(),J[c].m(U,null))}for(;c<J.length;c+=1)J[c].d(1);J.length=Ne.length}A[0]&6&&_e(U,f[1].player2_id),A[0]&6&&j(ue,f[1].date),f[4].date?X?X.p(f,A):(X=Kt(f),X.c(),X.m(he,null)):X&&(X.d(1),X=null),A[0]&6&&ae.value!==f[1].round&&j(ae,f[1].round),f[4].round?x?x.p(f,A):(x=Rt(f),x.c(),x.m(me,null)):x&&(x.d(1),x=null),A[0]&6&&re.value!==f[1].location&&j(re,f[1].location),f[4].location?ee?ee.p(f,A):(ee=zt(f),ee.c(),ee.m(pe,null)):ee&&(ee.d(1),ee=null),f[0].id?te?te.p(f,A):(te=Qt(f),te.c(),te.m(ce,Ye)):te&&(te.d(1),te=null),A[0]&1&&tt(ce,"justify-content-between",f[0].id),A[0]&1&&tt(ce,"justify-content-end",!f[0].id)},i:Ee,o:Ee,d(f){f&&v(e),Ie(W,f),Ie(Y,f),Ie(Z,f),Ie(J,f),X&&X.d(),x&&x.d(),ee&&ee.d(),te&&te.d(),mt=!1,Yt(It)}}}function vl(l,e,n){let t,r,a,i;const g={id:0,player1_id:0,player2_id:0,winner_id:0,tournament_id:0,round:"",location:"",date:""};let{drawerId:b=""}=e,{match:C=g}=e,V=0;const M=Ct(),{stores:{data:T}}=Zt();Ae(l,T,d=>n(2,r=d));const{stores:{data:P}}=Jt();Ae(l,P,d=>n(3,a=d));const G=al().shape({player1_id:lt(),player2_id:lt(),winner_id:lt(),tournament_id:lt(),round:yt(),location:yt(),date:yt()}),{form:w,errors:y,handleChange:E,handleSubmit:B}=rl({initialValues:g,validationSchema:G,onSubmit:d=>{let H={player1_id:d.player1_id,player2_id:d.player2_id,tournament_id:d.tournament_id,round:d.round,location:d.location,date:d.date};d.winner_id&&(H.winner_id=d.winner_id),C.id?(H.id=C.id,M("update",{value:H})):C.id||M("create",{value:H})}});Ae(l,w,d=>n(1,t=d)),Ae(l,y,d=>n(4,i=d));const q=()=>{M("delete",{value:C.id})},D=()=>{const d=`[data-bs-target="#${b}"]`,H=document.querySelector(d);H&&(n(0,C=g),H?.click())};function K(){t.winner_id=je(this),w.set(t)}function u(){t.tournament_id=je(this),w.set(t)}function _(){t.player1_id=je(this),w.set(t)}function I(){t.player2_id=je(this),w.set(t)}function k(){t.date=this.value,w.set(t)}function p(){t.round=this.value,w.set(t)}function O(){t.location=this.value,w.set(t)}return l.$$set=d=>{"drawerId"in d&&n(13,b=d.drawerId),"match"in d&&n(0,C=d.match)},l.$$.update=()=>{l.$$.dirty[0]&16385&&C.id!==V&&(el(w,t={...C},t),n(14,V=C?.id??0))},[C,t,r,a,i,T,P,w,y,E,B,q,D,b,V,K,u,_,I,k,p,O]}class gl extends Qe{constructor(e){super(),We(this,e,vl,pl,ze,{drawerId:13,match:0},null,[-1,-1])}}function bl(l){let e,n,t;function r(i){l[9](i)}let a={drawerId:at};return l[0]!==void 0&&(a.match=l[0]),e=new gl({props:a}),Te.push(()=>ke(e,"match",r)),e.$on("create",l[6]),e.$on("update",l[7]),e.$on("delete",l[8]),{c(){Re(e.$$.fragment)},l(i){Ke(e.$$.fragment,i)},m(i,g){Ge(e,i,g),t=!0},p(i,g){const b={};!n&&g&1&&(n=!0,b.match=i[0],Le(()=>n=!1)),e.$set(b)},i(i){t||($e(e.$$.fragment,i),t=!0)},o(i){Fe(e.$$.fragment,i),t=!1},d(i){Ue(e,i)}}}function yl(l){let e,n,t,r,a,i,g,b,C,V,M,T,P;e=new ll({props:{title:"Match",id:at,$$slots:{default:[bl]},$$scope:{ctx:l}}});function G(u){l[10](u)}function w(u){l[11](u)}function y(u){l[12](u)}let E={};l[1]!==void 0&&(E.query=l[1]),l[2]!==void 0&&(E.player_id=l[2]),l[3]!==void 0&&(E.tournament_id=l[3]),r=new ml({props:E}),Te.push(()=>ke(r,"query",G)),Te.push(()=>ke(r,"player_id",w)),Te.push(()=>ke(r,"tournament_id",y)),r.$on("triggerCreate",l[4]);function B(u){l[13](u)}function q(u){l[14](u)}function D(u){l[15](u)}let K={};return l[1]!==void 0&&(K.query=l[1]),l[2]!==void 0&&(K.player_id=l[2]),l[3]!==void 0&&(K.tournament_id=l[3]),C=new fl({props:K}),Te.push(()=>ke(C,"query",B)),Te.push(()=>ke(C,"player_id",q)),Te.push(()=>ke(C,"tournament_id",D)),C.$on("matchClick",l[5]),{c(){Re(e.$$.fragment),n=S(),t=m("div"),Re(r.$$.fragment),b=S(),Re(C.$$.fragment),this.h()},l(u){Ke(e.$$.fragment,u),n=N(u),t=h(u,"DIV",{class:!0});var _=L(t);Ke(r.$$.fragment,_),b=N(_),Ke(C.$$.fragment,_),_.forEach(v),this.h()},h(){o(t,"class","d-flex flex-column gap-3")},m(u,_){Ge(e,u,_),F(u,n,_),F(u,t,_),Ge(r,t,null),s(t,b),Ge(C,t,null),P=!0},p(u,[_]){const I={};_&524289&&(I.$$scope={dirty:_,ctx:u}),e.$set(I);const k={};!a&&_&2&&(a=!0,k.query=u[1],Le(()=>a=!1)),!i&&_&4&&(i=!0,k.player_id=u[2],Le(()=>i=!1)),!g&&_&8&&(g=!0,k.tournament_id=u[3],Le(()=>g=!1)),r.$set(k);const p={};!V&&_&2&&(V=!0,p.query=u[1],Le(()=>V=!1)),!M&&_&4&&(M=!0,p.player_id=u[2],Le(()=>M=!1)),!T&&_&8&&(T=!0,p.tournament_id=u[3],Le(()=>T=!1)),C.$set(p)},i(u){P||($e(e.$$.fragment,u),$e(r.$$.fragment,u),$e(C.$$.fragment,u),P=!0)},o(u){Fe(e.$$.fragment,u),Fe(r.$$.fragment,u),Fe(C.$$.fragment,u),P=!1},d(u){u&&(v(n),v(t)),Ue(e,u),Ue(r),Ue(C)}}}const at="match-drawer";function Cl(l,e,n){let t,r,a,i;const g=()=>{const u=`[data-bs-target="#${at}"]`,_=document.querySelector(u);_&&_.click()},b=()=>{nl(at)},C={id:0,player1_id:0,player2_id:0,winner_id:0,tournament_id:0,round:"",location:"",date:""},V=()=>{n(0,t=C),b()},M=u=>{const{detail:_}=u;n(0,t=_?.value),b()},T=async u=>{const{detail:_}=u,I=_.value;if(I){const{actions:{createMatch:k,reload:p}}=nt();await k(I),await p()}g()},P=async u=>{const{detail:_}=u,I=_?.value,k=I?.id;if(k){const{actions:{updateMatch:p,reload:O}}=nt();await p(k,I),await O()}g()},G=async u=>{const{detail:_}=u,I=_?.value;if(I){const{actions:{deleteMatch:k,reload:p}}=nt();await k(I),await p()}g()};function w(u){t=u,n(0,t)}function y(u){r=u,n(1,r)}function E(u){a=u,n(2,a)}function B(u){i=u,n(3,i)}function q(u){r=u,n(1,r)}function D(u){a=u,n(2,a)}function K(u){i=u,n(3,i)}return[t,r,a,i,V,M,T,P,G,w,y,E,B,q,D,K]}class wl extends Qe{constructor(e){super(),We(this,e,Cl,yl,ze,{})}}function El(l){let e,n;return e=new wl({}),{c(){Re(e.$$.fragment)},l(t){Ke(e.$$.fragment,t)},m(t,r){Ge(e,t,r),n=!0},i(t){n||($e(e.$$.fragment,t),n=!0)},o(t){Fe(e.$$.fragment,t),n=!1},d(t){Ue(e,t)}}}function Tl(l){let e,n;return e=new tl({props:{pageTitle:"Matches",$$slots:{default:[El]},$$scope:{ctx:l}}}),{c(){Re(e.$$.fragment)},l(t){Ke(e.$$.fragment,t)},m(t,r){Ge(e,t,r),n=!0},p(t,[r]){const a={};r&1&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){n||($e(e.$$.fragment,t),n=!0)},o(t){Fe(e.$$.fragment,t),n=!1},d(t){Ue(e,t)}}}class Vl extends Qe{constructor(e){super(),We(this,e,null,Tl,ze,{})}}export{Vl as component,Sl as universal};
